/*! For license information please see brick.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("jquery"),require("lodash")):"function"==typeof define&&define.amd?define(["jquery","lodash"],t):"object"==typeof exports?exports.brick=t(require("jquery"),require("lodash")):e.brick=t(e.$,e._)}(this,((__WEBPACK_EXTERNAL_MODULE__274__,__WEBPACK_EXTERNAL_MODULE__252__)=>(()=>{var __webpack_modules__={79:(e,t,i)=>{"use strict";i.d(t,{A:()=>_});var r=i(828),n=i(611),o=i(856);function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}var a={};function s(){}function l(e,t){function i(e){this._name=e}return i.prototype=t||new s,new i(e)}!function(e,t){if("object"==c(t))for(var i in t)e[i]=t[i]}(s.prototype,{set:function(e,t){this[e]=t,this.render()},get:function(e){return this[e]},confirm:function(e){return window.confirm(e)},emit:function(e,t){n.A.emit(e,t,this)},on:function(e,t){n.A.on(e,t,this)},one:function(e,t){n.A.one(e,t,this)},off:function(e,t){n.A.off(e,t)},render:function(e,t,i){var n=this;void 0===e?(e=this._name,t=this._model):"function"==typeof e?(i=e,e=n._name,t=n):"object"==c(e)&&(i=t,t=e,e=n._name),setTimeout((function(){var o=n._render(e,t);o&&(r.A.compile(o,!0),i&&i.apply(o,[]))}),30)},_render:function(e,t){var i=this.$elm,n=r.A.getTpl(e);if("function"!=typeof n)return console.error("not find render function =>",e);var o,c,a="[ic-tpl=?],[ic-tpl-name=?]".replace(/[?]/gim,e);return t.model||(r.A.get("render.wrapModel")||Array.isArray(t))&&(t={model:t}),o=(o=i.filter(a)).length?o:i.find(a),c=n(t),o.show(),o.removeAttr("ic-tpl"),o.html(c)}});const _={get:function(e){return e&&a[e]&&a[e].scope},reg:function(e,t,i){var r=(i=i||{}).depend||[];a[e]={fn:t,depend:r,service:i.service,conf:i}},exec:function(e,t,i){var r=a[e];if(!r)return console.info("not find controller "+e);r.conf;var n,c=r.depend;return(n=t?l(e,t):l(e))._parent=t&&t._name,n.$elm=i,r.scope=n,i.data("ic-ctrl-scope",n),(c=(c=o.A.get(c)||[]).constructor!==Array?[c]:c).unshift(n),r.fn.apply(n,c),n},_look:function(){return a}}},127:(e,t,i)=>{"use strict";i.d(t,{A:()=>s});var r=i(252),n=i.n(r),o=i(274),c=i.n(o),a=i(828);function s(e){!function e(t){!function(e){if(1!==e.nodeType){if(3===e.nodeType){var t=e.nodeValue;e.nodeValue=t.replace(/{{(.+?)}}/g,"<%= $1 %>")}}else{for(var i,r,n,o,a=c()(e),s=e.attributes,l=[],_={skip:-100,init:-10,for:0,"for-start":1,"for-init":10,if:100,"else-if":99,"if-start":100,"if-init":110,else:100,bind:1e3,"if-end":1e4,"for-end":1e4,nest:10001},u=0,f=s.length;u<f;u++)r=(i=s[u]).name,n=i.value,(/^ic-(skip|init|for|if|else|bind)/.test(r)||/\{\{.+?\}\}/.test(n))&&l.push([r,n]);for(l.sort((function(e,t){return _[e[0].replace(/^ic-/,"")]-_[t[0].replace(/^ic-/,"")]}));o=l.shift();){var d=o[0],p=o[1];if(/-skip$/.test(d))return void a.remove();/-init$/.test(d)?(a.before("\r\n<% var "+p.replace(/[;](?=\s*[_\w]+\s*=)/g,";var ")+" %>\r\n"),a.removeAttr(d)):/-for$/.test(d)?(a.before(p.replace(/^\s*(?:(\w+?)\s*\,\s*)?(\w+?)\s*in\s*(.+)\s*$/,(function(e,t,i,r,n){return t&&i?"<% for( var "+t+" in "+r+"){ var "+i+" = "+r+"["+t+"]; %>\r\n":"<% for( var "+e+"){ %>\r\n"}))),a.after("\r\n<% } %>"),a.removeAttr(d)):/-for-start$/.test(d)?(a.before(p.replace(/^\s*(?:(\w+?)\s*\,\s*)?(\w+?)\s*in\s*([\w.]+)/,(function(e,t,i,r,n){return t&&i?"<% for( var "+t+" in "+r+"){ var "+i+" = "+r+"["+t+"]; %>\r\n":"<% for( var "+e+"){ %>\r\n"}))),a.removeAttr(d)):/-for-end$/.test(d)||/-if-end$/.test(d)?(a.after("\r\n<% } %>"),a.removeAttr(d)):/-else-if$/.test(d)?(a.before("<% } else if("+(""===p?void 0:p)+"){ %>\r\n"),a.removeAttr(d)):/-if$/.test(d)?(a.before("<% if("+(""===p?void 0:p)+"){ %>\r\n"),a.after("\r\n<% } %>"),a.removeAttr(d)):/-if-start$/.test(d)?(a.before("<% if("+(""===p?void 0:p)+"){ %>\r\n"),a.removeAttr(d)):/-else$/.test(d)?(a.before("<% } else{ %>\r\n"),a.after("\r\n<% } %>"),a.removeAttr(d)):/-bind$/.test(d)?(a.html("\r\n<%= "+(""===p?'""':p)+" %>\r\n"),a.removeAttr(d)):/^ic-(?:href|src|style|class|data|value)$/.test(d)?(a.removeAttr(d),a.attr(d,p.replace(/{{(.+?)}}/g,"<%= $1 %>"))):a.attr(d,p.replace(/{{(.+?)}}/g,"<%= $1 %>"))}}}(t);for(var i,r=c()(t).contents(),n=0;i=r.eq(n)[0];)n++,e(i)}(e=e.cloneNode(!0));var t,i=c()(e).html().replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/\b(ic-)(?=href|src|style|class|data|value)/g,"").replace(/\bic-(\w+-)?(checked|disabled|selected|enabled)\s*=\s*"\s*((?:[^"]|\\")+)["]/g,(function(e,t,i,r){return"has-"===t?e:(t=t?"ic-"+t:""," <% if(?3){ %> ?2 <% } %> ".replace("?3",r).replace("?2",t+i))})).replace(/\bic-has-([-_\w]+)\s*=\s*(["])((?:[^"]|\\["])+)\2/gim,(function(e,t,i,r){return" <% if(?3){ %> ?1 <% } %> ".replace("?3",r).replace("?1",t)})).replace(/&amp;&amp;/g,"&&");a.A.get("debug")&&console.log(i);try{t=n().template(i)}catch(e){throw console.error(e,i),new Error("模板编译错误")}return t._tpl_=i,t}},162:(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__)=>{"use strict";var lodash__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(252),lodash__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_0__),jquery__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(274),jquery__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_1__),_core_export__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(828);function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}!jquery__WEBPACK_IMPORTED_MODULE_1___default().fn&&(jquery__WEBPACK_IMPORTED_MODULE_1___default().fn={}),jquery__WEBPACK_IMPORTED_MODULE_1___default().fn.icRender=function(e,t,i){"object"===_typeof(e)&&(i=t,t=e,e=this.attr("ic-tpl")||this.attr("ic-tpl-name"));var r=_core_export__WEBPACK_IMPORTED_MODULE_2__.A.getTpl(e);if(!r)return console.info("not find tpl: "+e);t.model||(_core_export__WEBPACK_IMPORTED_MODULE_2__.A.get("render.wrapModel")||Array.isArray(t))&&(t={model:t});var n=r(t);return this.each((function(){var e=jquery__WEBPACK_IMPORTED_MODULE_1___default()(this);setTimeout((function(){e.html(n),e.icCompile(!0),i&&i.apply(this,[e.children()])}),30)}))},jquery__WEBPACK_IMPORTED_MODULE_1___default().fn.icCompile=function(e){return this.each((function(t){_core_export__WEBPACK_IMPORTED_MODULE_2__.A.compile(this,e)}))},jquery__WEBPACK_IMPORTED_MODULE_1___default().fn.icParseProperty=jquery__WEBPACK_IMPORTED_MODULE_1___default().fn.icPp=function(name,isLiteral){var match;if(match=name.match(/^\s*(([{\[])(.*)[}\]])\s*$/))try{return eval("(".concat(match[1],")"))}catch(e){console.error(e)}else{if(match=name.match(/^\s*((['"])[^'"]*\2)\s*$/))return match[1];if(match=name.match(/^\s(\d+)\s*$/))return match[1]}if(isLiteral)return name;var params=name.split(":");name=params.shift();var $ctrl=this.closest("[ic-ctrl]"),ctrl=$ctrl.attr("ic-ctrl"),namespace=ctrl?_core_export__WEBPACK_IMPORTED_MODULE_2__.A.controllers.get(ctrl):{};function fx(e,t){var i=t.shift(),r=e&&e[i];if(void 0!==r)return t.length?fx(r,t):r}var v=fx(namespace,name.split("."));return v=v||fx(window,name.split(".")),"function"==typeof v&&params.length?function(e){for(var t,i=[].slice.call(arguments);t=params.shift();)i.push(t);return void 0===e&&i.shift(),v.apply(this,i)}:v},jquery__WEBPACK_IMPORTED_MODULE_1___default().fn.icParseProperty2=jquery__WEBPACK_IMPORTED_MODULE_1___default().fn.icPp2=function(e,t){return void 0===(e=this.attr(e))||""===e?e:this.icParseProperty(e,t)},jquery__WEBPACK_IMPORTED_MODULE_1___default().fn.icTabs=function(e){var t=e.active;return t&&this.attr("ic-tab-active",t),this},jquery__WEBPACK_IMPORTED_MODULE_1___default().fn.icAjax=function(e){return void 0===e?this.trigger("ic-ajax"):(e.data&&this.data("ic-submit-data",e.data),void 0!==e.disabled&&this.attr("ic-ajax-disabled",!!e.disabled),this)},jquery__WEBPACK_IMPORTED_MODULE_1___default().fn.icDialog=function(e,t){if(e=lodash__WEBPACK_IMPORTED_MODULE_0___default().isObject(e)?lodash__WEBPACK_IMPORTED_MODULE_0___default().extend({desc:"",title:""},e):{desc:e,title:""},!this[0]||!this[0].hasAttribute("ic-dialog"))return console.error("not is ic-dialog"),this;var i=this,r=i.attr("ic-tpl-name");return t&&this.one("ic-dialog.close",t),setTimeout((function(){void 0===e&&(e=!0),e||i.fadeOut(),r&&lodash__WEBPACK_IMPORTED_MODULE_0___default().isObject(e)&&i.icRender(r,e.vm||e),i.fadeIn((function(){i.trigger("ic-dialog.show")}))}),30),this},jquery__WEBPACK_IMPORTED_MODULE_1___default().icDialog=function(e,t){var i=lodash__WEBPACK_IMPORTED_MODULE_0___default().isObject(e)?lodash__WEBPACK_IMPORTED_MODULE_0___default().extend({desc:"",title:""},e):{desc:e,title:""};jquery__WEBPACK_IMPORTED_MODULE_1___default()("[ic-dialog]:first").icDialog(i,t)},jquery__WEBPACK_IMPORTED_MODULE_1___default().fn.icPrompt=function(e){if(!this[0]||!this[0].hasAttribute("ic-prompt"))return console.error("not is ic-prompt"),this;var t=this,i=t.attr("ic-tpl-name");return clearTimeout(t.data("ic-prompt-timer")),setTimeout((function(){void 0===e&&(e=!0),e||t.fadeOut(),i&&lodash__WEBPACK_IMPORTED_MODULE_0___default().isObject(e)&&t.icRender(i,e.vm||e),t.fadeIn((function(){t.trigger("ic-prompt.show");var e=setTimeout((function(){t.fadeOut()}),2400);t.data("ic-prompt-timer",e)}))}),30),this},jquery__WEBPACK_IMPORTED_MODULE_1___default().icPrompt=function(e){var t=lodash__WEBPACK_IMPORTED_MODULE_0___default().isObject(e)?e:{desc:e};jquery__WEBPACK_IMPORTED_MODULE_1___default()("[ic-prompt]:first").icPrompt(t)},jquery__WEBPACK_IMPORTED_MODULE_1___default().fn.icDatePicker=function(e,t){return this.trigger("ic-date-picker."+e,t)},jquery__WEBPACK_IMPORTED_MODULE_1___default().fn.icEnterPress=function(e){return this.each((function(t){if(/^textarea$/gim.test(this.tagName))return this;e=jquery__WEBPACK_IMPORTED_MODULE_1___default().proxy(e,this);var i=function(t){13===t.which&&e(t)};jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).on("focus",(function(){jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).on("input keypress",i)})).on("blur",(function(){jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).off("input keypress",i)}))}))},jquery__WEBPACK_IMPORTED_MODULE_1___default().fn.icTimer=function(){var e=this,t=1*e.attr("ic-timer-count"),i=setInterval((function(){t--?e.text(t):(clearInterval(i),e.trigger("ic-timer.end"))}),1e3);return this};var tipSize=0,$;jquery__WEBPACK_IMPORTED_MODULE_1___default().fn.tips=function(e){++tipSize;var t,i=jquery__WEBPACK_IMPORTED_MODULE_1___default()(e||"body"),r=.4*i.innerWidth()+"px",n=jquery__WEBPACK_IMPORTED_MODULE_1___default()('<div style="position:fixed;width:100%;height:100%;"></div>');return this.addClass("tips1").css({width:r}),this.appendTo(n),n.appendTo(i),r=this.width(),this.height(),t="-"+r/2+"px",this.css({top:40*tipSize,left:t}),n.animate({top:0,opacity:"1"},500,(function(){jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).addClass("animated wobble")})),setTimeout((function(){n.animate({top:-300,opacity:"0"},500,(function(){--tipSize,n.remove()}))}),2e3*tipSize),this},jquery__WEBPACK_IMPORTED_MODULE_1___default().tips=function(e){jquery__WEBPACK_IMPORTED_MODULE_1___default()("<div>"+e+"</div>").tips()},$=jquery__WEBPACK_IMPORTED_MODULE_1___default(),$.fn.icSetLoading=$.fn.setLoading=function(e){var t=e&&e.loading;return this.icClearLoading(),this.each((function(){var e=$(this),i=e.outerWidth(),r=e.outerHeight(),n=e.offset(),o=n.top,c=n.left,a=$(t||'<span ic-loader role="_loading_"><svg width="16" height="16" viewBox="0 0 300 300" xmlns="http://www.w3.org/2000/svg" version="1.1"><path d="M 150,0 a 150,150 0 0,1 106.066,256.066 l -35.355,-35.355 a -100,-100 0 0,0 -70.711,-170.711 z" fill="#3d7fe6"><animateTransform attributeName="transform" attributeType="XML" type="rotate" from="0 150 150" to="360 150 150" begin="0s" dur="1s" fill="freeze" repeatCount="indefinite" /></path></svg></span>').css({width:i,height:r,position:"absolute",top:o,left:c,"z-index":19999}).appendTo("body");e.addClass("on-ic-loading"),e.data("_ic-role-loading",a)}))},jquery__WEBPACK_IMPORTED_MODULE_1___default().fn.icClearLoading=jquery__WEBPACK_IMPORTED_MODULE_1___default().fn.clearLoading=function(){return this.each((function(){var e=jquery__WEBPACK_IMPORTED_MODULE_1___default()(this),t=e.data("_ic-role-loading");t&&t.remove(),e.removeData("_ic-role-loading"),e.removeClass("on-ic-loading")}))},jquery__WEBPACK_IMPORTED_MODULE_1___default().icSetLoading=function(){var e="ic-global-loading",t=jquery__WEBPACK_IMPORTED_MODULE_1___default()("#"+e);t.length||(t=jquery__WEBPACK_IMPORTED_MODULE_1___default()('<div id="'.concat(e,'" style="position: fixed;top:0;left:0;bottom:0;right:0;background:rgba(0,0,0,0.2);z-index: 10000;"></div>')).appendTo("body")),t.show().icSetLoading()},jquery__WEBPACK_IMPORTED_MODULE_1___default().icClearLoading=function(){jquery__WEBPACK_IMPORTED_MODULE_1___default()("#ic-global-loading").hide().icClearLoading()},jquery__WEBPACK_IMPORTED_MODULE_1___default().fn.icMessage=jquery__WEBPACK_IMPORTED_MODULE_1___default().fn.icMsg=function(e){var t=jquery__WEBPACK_IMPORTED_MODULE_1___default()("#ic-message-wrapper");t=t.length?t:jquery__WEBPACK_IMPORTED_MODULE_1___default()('<div ic-msg-popup="1" id="ic-message-wrapper" style="position: fixed;top:0;bottom:0;left:0;right:0;z-index:3000; display: flex; flex-flow: column; align-items: center;pointer-events: none; padding-top:40px;"></div>').appendTo(document.body);var i=this,r={transition:"all 0.5s",transform:"translateY(-900px)","margin-top":"20px"};i.css(r),i.appendTo(t),setTimeout((function(){i.css({transform:"translateY(0)"}),setTimeout((function(){i.css(r),setTimeout((function(){i.remove()}),1e3)}),1e3*(e.duration||4))}),25)},jquery__WEBPACK_IMPORTED_MODULE_1___default().icMessage=jquery__WEBPACK_IMPORTED_MODULE_1___default().icMsg=function(e,t){if(t="number"==typeof(t=t||{})?{duration:t}:t,"object"===_typeof(e))try{e=JSON.stringify(e)}catch(t){e=e.toString()}jquery__WEBPACK_IMPORTED_MODULE_1___default()('<div id="ic-message-box" style="background: rgb(117,190,35); color:#fff; width:40%; padding:10px; border-radius:6px;box-shadow: rgba(0,0,0,0.2) 6px 6px 6px; white-space: pre-wrap;"> '.concat(e,"</div>")).icMessage(t)}},252:e=>{"use strict";e.exports=__WEBPACK_EXTERNAL_MODULE__252__},274:e=>{"use strict";e.exports=__WEBPACK_EXTERNAL_MODULE__274__},465:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var lodash__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(252),lodash__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_0__),jquery__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(274),jquery__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_1__),_core_export__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(828);function __WEBPACK_DEFAULT_EXPORT__($elm,attrs){var debug=_core_export__WEBPACK_IMPORTED_MODULE_2__.A.get("debug"),eventAction=_core_export__WEBPACK_IMPORTED_MODULE_2__.A.get("event.action"),customRule=_core_export__WEBPACK_IMPORTED_MODULE_2__.A.get("ic-form.rule"),presetRule={id:/[\w_]{4,18}/,required:/.+/gim,phone:/^\d[\d-]{5,16}$/,email:/^(\w)+(\.\w+)*@(\w)+((\.\w{2,3}){1,3})$/,password:/(?:[\w]|[!@#$%^&*]){6,16}/,desc:/.{4,32}/,plate:/^[\u4e00-\u9fa5]{1}[A-Z]{1}[\s-]?[A-Z_0-9]{5}$/i};lodash__WEBPACK_IMPORTED_MODULE_0___default().isObject(customRule)&&lodash__WEBPACK_IMPORTED_MODULE_0___default().extend(presetRule,customRule);var keys=lodash__WEBPACK_IMPORTED_MODULE_0___default().keys(presetRule);function compileRule(e,t){var i;for(var r in keys)r=keys[r],i=presetRule[r],e=e.replace(new RegExp(r+"(?![^|&])","g"),(function(e){return lodash__WEBPACK_IMPORTED_MODULE_0___default().isFunction(i)?e+"()":lodash__WEBPACK_IMPORTED_MODULE_0___default().isRegExp(i)?i:e}));return e=e.replace(/\/[igm]{0,3}(?=(?:\|\||\&\&|$))/g,(function(e){return e+'.test("?")'})),debug&&console.info("解析规则：",e),e}function _verify(val,rules,tips,$field){if(void 0===rules)return!1;tips=tips||"error";var fns={};rules=rules.replace(/(?:^|\|\||\&\&)(\w+?)\(\)(?=(?:\|\||\&\&|$))/g,(function(e,t){var i=presetRule[t]||$field.icParseProperty(t);return fns[t]=i,e.replace(t,"fns."+t).replace("()",'("?")')}));var _script=rules.replace(/\.\w+\("\?"\)/g,(function(e){return e.replace("?",val)})),result;debug&&console.info(_script);try{return result=eval(_script.replace(/\n/g,"\\n")),"string"==typeof result?result:!0!==result&&(result||tips)}catch(e){console.error(e,_script)}}function defaultCall(){}keys.sort((function(e,t){return t.length-e.length})),debug&&console.info("当前关键字验证规则列表：",keys),jquery__WEBPACK_IMPORTED_MODULE_1___default().fn.icForm=jquery__WEBPACK_IMPORTED_MODULE_1___default().fn.icForm||function(e,t){return this.find("[ic-form-submit]").not(this.find("[ic-form] [ic-form-submit]")).icFormVerify(),this.data("ic-form-fields")},jquery__WEBPACK_IMPORTED_MODULE_1___default().fn.icFormSubmit=jquery__WEBPACK_IMPORTED_MODULE_1___default().fn.icFormSubmit||function(){this.find("[ic-form-submit]").not(this.find("[ic-form] [ic-form-submit]")).trigger(eventAction)},jquery__WEBPACK_IMPORTED_MODULE_1___default().fn.icFormVerify=jquery__WEBPACK_IMPORTED_MODULE_1___default().fn.icFormVerify||function(){return this[0].hasAttribute("ic-form-submit")?(this.trigger("ic-form.verify"),!!this.attr("ic-verification")&&fields):!!this[0].hasAttribute("ic-form-field")&&(this.trigger("change"),this.attr("ic-verification"))};var fields={},namespace=$elm.attr("ic-form"),$fields=$elm.find("[ic-form-field]").not($elm.find("[ic-form] [ic-form-field]")),$submit=$elm.find("[ic-form-submit]").not($elm.find("[ic-form] [ic-form-submit]")),$loading=$elm.find("[ic-role-loading]"),err_cla=_core_export__WEBPACK_IMPORTED_MODULE_2__.A.get("cla.error")||"error";function toSubmit(e){if(!$submit[0].hasAttribute("ic-submit-disabled")){if(!$submit.icFormVerify())return $elm.trigger("ic-form.error",fields);if(1===submitType)return action.apply($submit[0],[fields]);var t=before.apply($submit[0],[fields]);if(!1!==t)return $loading.length?($submit.hide(),$loading.show()):$submit.icSetLoading(),$submit.attr("ic-submit-disabled",!0),3===submitType?jquery__WEBPACK_IMPORTED_MODULE_1___default().ajax({url:domain+action,type:method,dataType,data:t||fields}).done((function(e){done(e)})).fail(failed).always((function(){$submit.show(),$loading.hide(),$submit.clearLoading(),always(),$submit.removeAttr("ic-submit-disabled")})):void 0}}$fields.each((function(e){var t=jquery__WEBPACK_IMPORTED_MODULE_1___default()(this),i=t.attr("ic-form-field"),r=t.attr("name")||i,n=t.attr("ic-field-rule");if(n){var o=t.attr("ic-field-err-tip"),c=$elm.find('[ic-form-field-container="?"]'.replace("?",i)),a=$elm.find('[ic-form-field-err-tip="?"]'.replace("?",i)),s=a.text();n=compileRule(n,$elm),t.on("change",(function(e){var s,l=t.val();console.info("ic-form-field change =>",this,l),(s=_verify(l,n,o,t))?(t.addClass(err_cla),c.addClass(err_cla),a.addClass(err_cla).text(s),t.removeAttr("ic-verification"),fields[i]=!1,t.trigger("ic-form-field.error",s)):(t.removeClass(err_cla),c.removeClass(err_cla),a.removeClass(err_cla),t.attr("ic-verification",1),t[0].hasAttribute("ic-field-placeholder")||(fields[r]=l),t.trigger("ic-form-field.ok",l))})),t.on("focus",(function(){c.removeClass(err_cla),a.removeClass(err_cla).text(s)}))}})),$submit.on("ic-form.verify",(function(e,t){for(var i in fields={},$fields.filter(':not("[ic-field-rule]")').each((function(e){var t,i=jquery__WEBPACK_IMPORTED_MODULE_1___default()(this),r=this.tagName,n=i.attr("type"),o=i.attr("ic-form-field"),c=i.attr("name")||o;/^input|select|textarea$/gim.test(r)?/^checkbox|radio$/i.test(n)?(t=(i=jquery__WEBPACK_IMPORTED_MODULE_1___default()("[name=*]:checked".replace("*",c))).val()||"",console.log("brick form debug => ",i,t)):t=/^number$/i.test(n)?1*i.val():i.val():t=i.data("ic-val")||i.attr("ic-val"),fields[c]=t})),$fields.filter("[ic-field-placeholder][ic-field-rule]").each((function(e){jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).change()})),$fields.filter(":visible").filter("[ic-field-rule]").each((function(e){jquery__WEBPACK_IMPORTED_MODULE_1___default()(this).change()})),$elm.data("ic-form-fields",fields),fields)if(!1===fields[i])return $submit.removeAttr("ic-verification"),!1;return $submit.attr("ic-verification",!0)})),$submit.on("ic-form.submit",(function(e){toSubmit(e)})),$submit.on(eventAction,toSubmit),$fields.not("textarea").icEnterPress((function(){$submit.trigger(eventAction)}));var domain=_core_export__WEBPACK_IMPORTED_MODULE_2__.A.get("ajax.domain")||"",method=$submit.attr("ic-submit-method")||"post",action=$submit.attr("ic-submit-action"),before=$submit.icParseProperty2("ic-submit-before")||defaultCall,failed=$submit.icParseProperty2("ic-submit-on-fail")||defaultCall,done=$submit.icParseProperty2("ic-submit-on-done")||defaultCall,always=$submit.icParseProperty2("ic-submit-on-always")||defaultCall,dataType=$submit.attr("ic-submit-data-type")||"json",submitType=/[\w_.]+\(\)\;?$/i.test(action)?(action=$submit.icParseProperty(action.replace(/[();]/g,"")),1):3}},567:()=>{},611:(e,t,i)=>{"use strict";i.d(t,{A:()=>n});var r={};const n={on:function(e,t,i){for(var r in e=e.split(/[,\s]+/g))this._bind(e[r],t,i)},_bind:function(e,t,i){var r={f:t},n=this._getNamespace(e);return i&&(r.context=i),(n._callback=n._callback||[]).push(r),r},one:function(e,t,i){for(var r in e=e.split(/[,\s]+/g))this._bind(e[r],t,i).onlyOne=!0},off:function(e,t){for(var i in e=e.split(/[,\s]+/g))this._unbind(e[i],t)},_unbind:function(e,t){var i,r=this._getNamespace(e),n=r&&r._callback;if(n){if(!t)return void delete r._callback;for(var o=0,c=n.length;o<c;o++)if(t===(i=n[o]).f||t.toString()===i.f.toString())return void n.splice(o,1)}},emit:function(e,t,i){var r,n=e.split(/[.:]/i),o=n.shift(),c=[e];for(function e(t,i){if(t.length){i=i?i+".":"";for(var r=0,n=t.length;r<n;r++){var o=t.slice();o.splice(0,r+1);var a=i+"*"+(o.length?"."+o.join("."):"");c.push(a)}i+=t.shift(),e(t,i)}}(n.slice(),o);r=c.shift();)this._fire(r,t,i)},_fire:function(e,t,i){var r,n,o,c=this._getNamespace(e),a=c&&c._callback;if(a)for(var s=a.length-1;s>=0;s--)n=(r=a[s]).context||{},(o=r.f).constructor===Function&&o.apply(n,[{eventName:e,source:i},t]),!0===r.onlyOne&&a.splice(s,1)},_getNamespace:function(e){return r[e]=r[e]||{}},_look:function(){console.log(r)}}},828:(e,t,i)=>{"use strict";i.d(t,{A:()=>m});var r=i(274),n=i.n(r);const o={cid:function(){return Math.random().toFixed(7).replace("0.","")},toHtml:function(e){var t=n()("<div></div>");return t.html(e),t.text()},getQuery:function(e){return this.get_query(e)},get_query:function(e){var t,i;return e&&/^[-_\w]+$/i.test(e)&&(i=e,e=""),((e=e&&e.split("?").length>1?e.split("?")[1]:e)||location.search).replace(/^\?/i,"").replace(/\&/gim,",").replace(/^\,+/gim,"").replace(/([^=,\s]+)\=([^=,\s]*)/gim,(function(e,i,r){var n;t=t||{},r=decodeURIComponent(r),/\[\]$/i.test(i)?(n=i.replace(/\[\]$/i,""),(t[n]=t[n]||[]).push(r)):t[i]=r})),i?t&&t[i]:t}};var c=i(252),a=i.n(c),s={namespace:{prefix:"ic"},event:{action:"click"},ajax:{domain:""}};const l={get:function(e){if(!e)return a().extend({},s);var t=e.split(".");return function e(t,i){var r=i.shift(),n=t[r];return n&&i.length?e(t[r],i):n}(s,t)},set:function(e,t){var i=this.get(e);if(i&&a().isObject(i)&&a().isObject(t))return a().extend(i,t);this._set(e,t)},_set:function(e,t){var i=e.split(".");!function e(i,r){var n=r.shift(),o=i[n];if(r.length)o||(o=i[n]={}),e(o,r);else{if(void 0===t)return delete i[n];i[n]=t}}(s,i)}};var _=i(79),u=i(998),f=i(856),d=i(611),p=i(127);function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}var v={version:"V0.9.51",utils:o,config:l,controllers:_.A,services:f.A,directives:u.A,eventManager:d.A,createRender:p.A,compile:function e(t,i){var r=n()(t);if(r[0].hasAttribute("ic-skip"))return console.log("ic-skip:",t);!i&&function(e){if(1!==(e=e.nodeType?e:e[0]).nodeType)return console.info("compile exit",e);var t,i=n()(e),r=e.attributes,o=[],c={"ic-ctrl":-1e3},s=0;a().each(u.A.get(),(function(e,t,i){"object"===h(e)&&e.priority?c[t]=e.priority:c[t]=s++}));for(var l=0,_=r.length;l<_;l++)t=r[l].name,u.A.get(t)&&o.push(t);for(o.sort((function(e,t){return c[e]-c[t]}));t=o.shift();)u.A.exec(t,i,r)}(t);for(var o,c=r.children(),s=0;o=c.eq(s)[0];)s++,e(o)},verbose:!1,__tpl:{},debug:function(){},set:function(e,t){return this.config.set(e,t)},get:function(e){return this.config.get(e)},on:function(e,t){return this.eventManager.on(e,t),this},one:function(e,t){return this.eventManager.one(e,t),this},off:function(e,t){return this.eventManager.off(e,t),this},emit:function(e,t){return this.eventManager.emit(e,t),this},getTpl:function(e){return this.__tpl[e]},reg:function(e,t,i){/ctrl$/i.test(e)?_.A.reg(e,t,i):f.A.reg(e,t,i)},bootstrap:function(e){console.info("brick start at","V0.9.51","2025/6/1上午1:11:41"),this.directives.init(),this.compile(e||document.body),this.bootstrap=function(){console.info("only bootstrap once.")}}};const m=v},856:(e,t,i)=>{"use strict";i.d(t,{A:()=>o});var r={},n={};const o={_look:function(){console.log(n)},reg:function(e,t,i){var r=i&&(i.constructor===Array?i:i.depend);n[e]={depend:r,serve:t,conf:i}},create:function(e){var t=n[e];if(t){var i=t.depend;return i&&(i=this.get(i)),window[e]=t.serve.apply(null,i||[]),window[e]}},add:function(e,t){this.fill(e,t)},fill:function(e,t){r[e]=t},get:function(e){if(e){if("string"==typeof e)return r[e]=r[e]||this.create(e);if(e.constructor===Array){for(var t,i=0,n=(e=e.slice()).length;i<n;i++)t=e[i],e[i]=r[t]=r[t]||this.create(t);return e}}}}},998:(e,t,i)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}i.d(t,{A:()=>n});const n={_pool:{},add:function(e,t,i){this.reg(e,t,i)},reg:function(e,t,i){"object"==r(e)?e=(i=e).name:"object"==r(t)?i=t:(i=i||{}).fn=t,this._pool[e]=i},get:function(e){return e?this._pool[e]:this._pool},exec:function(e,t,i){var r=this._pool,n=r[e];"function"==typeof n?n.apply(null,[t,i]):n.fn&&(n.fn.apply(null,[t,i]),n.once&&delete r[e])},init:function(){var e=this._pool;for(var t in e){var i=e[t];i.selfExec&&(i.fn&&i.fn(),i.once&&delete e[t])}}}}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var i=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](i,i.exports,__webpack_require__),i.exports}__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=(e,t)=>{for(var i in t)__webpack_require__.o(t,i)&&!__webpack_require__.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var __webpack_exports__={};return(()=>{"use strict";__webpack_require__.d(__webpack_exports__,{default:()=>M}),__webpack_require__(567);var e=__webpack_require__(274),t=__webpack_require__.n(e),i=__webpack_require__(828),r=__webpack_require__(856),n=__webpack_require__(998),o=__webpack_require__(79),c=__webpack_require__(252),a=__webpack_require__.n(c);const s={name:"event",selfExec:!0,once:!0,fn:function(){var e=i.A.get("event.action"),r=i.A.get("ic-event.extend")||"click,change,dblclick,focus,hover",n=r.replace(/(?:^|,)(\w+?)(?=(?:,|$))/g,(function(e,t){var i="[ic-?]".replace("?",t);return e.replace(t,i)})),o=t()(document);function c(e){var i=t()(this),r=e.type,n=i.attr("ic-"+r),o=i.icParseProperty(n);if(o)return o.apply(this,[e]);console.error("".concat(n," is undefined."))}r=r.split(","),n=n.split(","),a().forEach(r,(function(t,i,r){var a=n[i];"click"===t&&(t=e),o.on(t,a,c)}))}};var l=__webpack_require__(127);const u={selfExec:!0,fn:function(e){var r=i.A.__tpl=i.A.__tpl||{};(e||t()("[ic-tpl]").not(t()("[ic-skip] [ic-tpl]"))).each((function e(){var i,n=t()(this),o=n.attr("ic-tpl");n.attr("ic-tpl-name")||(n.find("[ic-tpl]").not(t()("[ic-skip] [ic-tpl]")).each(e),o||(i=n.closest("[ic-ctrl]"),o=i.attr("ic-ctrl")),setTimeout((function(){var e=n.icParseProperty2("ic-tpl-init");e&&n.icRender(o,{model:e})}),300),r[o]=(0,l.A)(this),n.attr("ic-tpl-name",o),n.removeAttr("ic-tpl"),n.empty())}))}};__webpack_require__(162);var f=__webpack_require__(611);function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function p(e){if(e&&e.constructor===Object)for(var t in e)this[t]=e[t];this._pool={}}var h={key:"id",init:function(e){if("object"!==d(e))throw"must be Array or Object on init";for(var t in this._pool,e){var i=e[t];this.beforeSave(i,t)}return this._pool=e,this.fire("init"),this},each:function(e){return this._pool.forEach((function(t,i){e(t,i)})),this},get:function(e,i){var r=this._pool,n=[],o="function"==typeof e;if(o){for(var c in r){var a=r[c];e(a,c)&&n.push(t().extend(!0,{},a))}return n}if(void 0===e){for(var s in r)n.push(t().extend(!0,{},r[s]));return n}for(var l in"object"===d(e)&&(e=e[i=this.key]),r){var _=r[l];e===this._queryKeyValue(_,i)&&n.push(t().extend(!0,{},_))}return 1===n.length&&!o&&(i===this.key||e&&void 0===i)?t().extend(!0,{},n[0]):n},get2:function(e,t){var i=this.get(e,t);if(1===i.length){var r=i[0];return JSON.parse(JSON.stringify(r))}return i},set:function(e,i){var r=this._pool,n=this._find||[],o=[];for(var c in n){var a=n[c];if(!i||this._queryKeyValue(a,i)!==this._queryKeyValue(e,i)){var s=this._queryKeyValue(a);a=r[this._getIndex(s)],o.push(t().extend(!0,a,e)),this.beforeSave(a),this.fire("change",{change:a})}}return this.end(),!!o.length&&o},add:function(e){var t=this._pool,i=this._queryKeyValue(e);return this.beforeSave(e),t.push?t.push(e):t[i]=e,this.fire("add",{add:e}),this},prev:function(){var e=this._pool,t=this._find||[];for(var i in t){var r=t[i],n=this._queryKeyValue(r),o=this._getIndex(n);e.splice&&(e.splice(o,1),e.splice(--o,0,r)),this.fire("order",{target:r})}this.end()},remove:function(){var e=this._pool,t=this._find||[];for(var i in t){var r=t[i],n=this._queryKeyValue(r),o=this._getIndex(n);e.splice&&void 0!==o?e.splice(o,1):delete e[n],this.fire("remove",{remove:r})}return this.end(),t},clear:function(){return this._pool={},this.end(),this.emit("clear"),this},find:function(e,t){var i=this.get(e,t);return this._find=Array.isArray(i)?i:[i],this},result:function(){return this._find},end:function(){this._find=void 0},emit:function(e,t){this.fire(e,t)},fire:function(e,i){var r=this.scope,n=this.broadcast,o=this.get(),c=this.eventPrefix?this.eventPrefix+".":"";i=t().extend({pool:o},i||{}),n&&f.A.emit(c+e,i),r&&r.fire&&r.fire(c+e,i)},beforeSave:function(e,t){},_queryKeyValue:function(e,t){return this._get(e,t).v},_get:function(e,t){var i=function e(t,i){var r=i[t.shift()];return t.length?e(t,r):r}((t||this.key).split("."),e);return{r:e,v:i}},_getIndex:function(e,t){var i=this._pool,r="object"===d(e)?this._queryKeyValue(e,t):e;for(var n in i)if(this._queryKeyValue(i[n],t)===r)return n},_look:function(){console.log(this._pool)}};for(var v in h)p.prototype[v]=h[v];const m={name:"ic-ajax",selfExec:!0,once:!0,fn:function(){var e=i.A.get("event.action");function r(e){var r=this;if(!this.hasAttribute("ic-ajax-disabled")){var n=t()(this),o=n.attr("ic-ajax"),c=function(){},a=n.icParseProperty2("ic-submit-before")||c,s=n.data("ic-submit-data")||n.attr("ic-submit-data"),l=a.call(r,s);if(!1!==l){s=l||s;var _=(i.A.get("ajax.domain")||"")+n.attr("ic-submit-action"),u=n.attr("ic-submit-data-type")||"json",f=n.attr("ic-submit-method")||"post",d=n.icParseProperty2("ic-submit-on-fail")||c,p=n.icParseProperty2("ic-submit-on-done")||c,h=n.icParseProperty2("ic-submit-on-always")||c,v=t()("[ic-role-loading=?]".replace("?",o||+new Date)),m=v.length;return m?v.show()&&n.hide():n.setLoading(),n.attr("ic-ajax-disabled",!0),t().ajax({url:_,type:f,dataType:u,data:s}).done((function(e){p.apply(r,[e])})).fail((function(e){d.apply(r,[e])})).always((function(){m?(v.hide(),n.show()):n.clearLoading(),h.apply(r),n.removeData("ic-submit-data"),n.removeAttr("ic-ajax-disabled")})),!1}}}var n=t()(document.body);n.on(e,"[ic-ajax]:not([ic-ajax-enter])",r),n.on("ic-ajax","[ic-ajax]",r)}};var g=__webpack_require__(465);const b={name:"ic-enter-press",selfExec:!0,once:!0,fn:function(e,i){t()(document.body).on("focus","[ic-enter-press]",(function(e){var i=t()(this),r=i.attr("ic-enter-press");r=i.icParseProperty(r),r=t().proxy(r,this);var n=function(e){13===e.which&&r(e)};i.on("keypress",n),i.on("blur",(function(e){i.off("keypress",n)}))}))}},y={selfExec:!0,once:!0,fn:function(e,r){var n=i.A.get("event.action");t()(document.body).on(n,"[ic-dialog-href]",(function(e){var i=t()(this).attr("ic-dialog-href");return t()("[ic-dialog=?]".replace("?",i)).icDialog(),!1})).on(n,"[ic-dialog-cancel], [ic-dialog-close], [ic-dialog-confirm]",(function(e){var i=t()(this),r=this.hasAttribute("ic-dialog-confirm"),n=i.closest("[ic-dialog]");n.icAniOut(21,(function(){n.trigger("ic-dialog.close",r),n.trigger("ic-dialog.hide",r)}))}))}};var E={selfExec:!0,once:!0,fn:function(e,r){var n=i.A.get("event.action");t()(document.body).on(n,"[ic-prompt-cancel], [ic-prompt-close], [ic-prompt-confirm]",(function(e){var i=t()(this),r=this.hasAttribute("ic-prompt-confirm"),n=i.closest("[ic-prompt]");n.icAniOut(21,(function(){n.trigger("ic-prompt.hide",r)}))}))}};const P={name:"ic-popup",selfExec:!0,once:!0,fn:function(){var e="active",i="on-ic-popup-show",r=0,n=0,o=(t()(document),t()(document.body));function c(c){n=window.scrollY,t()(document).on("scroll",s),c.on("scroll",s),c.addClass(e),c.trigger("ic-popup.show"),c.scrollTop(0),r+=1,console.log("ic-popup count: ",r),o.addClass(i)}function a(c){t()(document).off("scroll",s),c.off("scroll",s),c.removeClass(e),c.trigger("ic-popup.hide"),c[0].scrollTop=0,r-=1,console.log("ic-popup count: ",r),r<1&&(o.removeClass(i),window.scrollTo(0,n))}function s(e){return e.stopPropagation(),e.preventDefault(),!1}t().fn.icPopup=t().fn.icPopup||function(e){e?c(this):a(this)},o.on("click","[ic-popup-target]",(function(e){var i=t()(this).attr("ic-popup-target");c(t()("[ic-popup=?]".replace("?",i)))})).on("click","[ic-popup-close]",(function(e){var i=t()(this).attr("ic-popup-close");a(i?t()("[ic-popup=?]".replace("?",i)):t()(this).closest("[ic-popup]"))}))}},A={name:"ic-upload",fn:function(e,i){e.attr("ic-upload");var r=e.find("[type=file]"),n=e.find("[ic-upload-confirm]");function o(){var i=function(){},n=e.attr("ic-upload-action"),o=e.icPp2("ic-upload-before")||i,c=e.icPp2("ic-upload-on-done")||i,a=e.icPp2("ic-upload-on-failed")||i,s=e.icPp2("ic-upload-on-always")||i,l=(r.attr("name"),new FormData);t().each(r[0].files,(function(e,t){l.append(e,t)})),!1!==o(l)&&(e.setLoading(),t().ajax({url:n,type:"POST",data:l,cache:!1,contentType:!1,processData:!1}).done((function(t){c.apply(e[0],[t])})).fail((function(t){a.apply(e[0],[t])})).always((function(){e.clearLoading(),s.apply(e[0])})))}n.length?n.on("click",o):r.change(o)}};function w(e){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w(e)}var O={init:function(e){var i=function(){};if(this.onShow=e.onShow||i,this.onOpen=e.onOpen||i,this.onClose=e.onClose||i,this.$body=t()(document.body),this._oldTop=window.scrollY,console.log(this._oldTop),this.onPopupShowCla="on-ic-viewer-show",this.$body.addClass(this.onPopupShowCla),this.onOpen(),this.$elm)return O;this.interval=e.interval;var r=t()("#ic-viewer-box-wrap");return r=this.$elm=e.$imgBox||r.length?r:t()('<div ic-viewer-popup="1" id="ic-viewer-box-wrap"> <div id="ic-viewer-box"> <img/> </div> <div id="ic-viewer-handle"> <div id="ic-viewer-autoplay">自动播放</div> <div id="ic-viewer-sn"></div> <div id="ic-viewer-close">关闭</div> &nbsp;&nbsp; <input id="ic-viewer-interval" type="number" value="" style="width:3em;vertical-align:4px"> <input id="ic-viewer-go" type="number" value="" style="width:6em;vertical-align:4px" placeholder="go"> </div> <div id="ic-viewer-info"></div> </div>').appendTo(t()(document.body)),this.$img=this.$elm.find("#ic-viewer-box > img").on("dblclick",(function(e){O.close(e)})),this.$info=this.$elm.find("#ic-viewer-info"),this.$autoplay=this.$elm.find("#ic-viewer-autoplay"),this.$sn=this.$elm.find("#ic-viewer-sn"),this.$interval=this.$elm.find("#ic-viewer-interval").val(this.interval).on("change",(function(e){var i=t()(this).val();i&&O.set("interval",1*i)})),this.$go=this.$elm.find("#ic-viewer-go").on("change",(function(e){var i=t()(this).val();O.index=1*i,O._go()})),r.on("click","#ic-viewer-close",(function(e){O.close(e)})),r.on("click","#ic-viewer-autoplay",(function(e){O.autoplay(!O.timer)})),O},show:function(e){var t=this.urls=e.urls,i=e.src,r=this.index=i?t.indexOf(i):0;i=i||t[r],O._show(i,r,!0),O.$elm.fadeIn(),O.$body.on("mousewheel",O.on_mousewheel),this.timer=null,e.autoplay&&O.autoplay()},_show:function(e,t,i){O.$img.attr("src",e),O.$sn.text(t+" / "+this.urls.length),O.onShow(t,e,O.$info,i)},close:function(e){O.$elm.fadeOut(),O.autoplay(!1),O.$body.removeClass(O.onPopupShowCla),O.onClose(),O.$body.off("mousewheel",O.on_mousewheel),console.log(O._oldTop),window.scrollTo(0,O._oldTop)},set:function(e,t){"object"===w(e)?Object.assign(this,e):this[e]=t},_go:function(){var e=O.urls.length-1;O.index<0&&(O.index=e),O.index>e&&(O.index=0),O._show(O.urls[O.index],O.index)},on_mousewheel:a().debounce((function(e){return console.log("on_mousewheel"),(e=e||{originalEvent:{deltaY:O.order}}).originalEvent.deltaY<0?--O.index:++O.index,O._go(),e.preventDefault(),e.stopPropagation(),!1}),100),autoplay:function(e){e||void 0===e?(console.log("icViewer.interval",O.interval),O.timer=setInterval(O.on_mousewheel,1e3*O.interval),O.$autoplay.text("停止播放")):(clearInterval(O.timer),O.timer=null,O.$autoplay.text("自动播放"))}};t().fn.icViewer=function(e){return this.each((function(){var i=t()(this),r=(e.$imgBox,e.item||"img"),n=e.$imgs||i.find(r),o=e.url||"src",c=e.urls||n.map((function(e){return t()(this).attr("ic-viewer-item",e).attr(o)})).get();i.on("click",r,(function(i){return O.init(e).show({urls:c,src:t()(this).attr(o)}),!1}))}))},i.A.icViewer=O,n.A.reg("ic-viewer",(function(e){var r="ic-viewer-item",n=t()(e.attr("ic-viewer-box")),o=e.attr(r)||i.A.get(r)||"[ic-viewer-item]";e.icViewer({$imgBox:n.length?n:void 0,item:o,$imgs:e.find(o),urls:e.icPp2("ic-viewer-sources"),onShow:e.icPp2("ic-viewer-on-show"),onOpen:e.icPp2("ic-viewer-on-open"),onClose:e.icPp2("ic-viewer-on-close"),interval:e.icPp2("ic-viewer-interval",!0)||i.A.get("ic-viewer-interval")||10,url:e.attr("ic-viewer-url")||i.A.get("ic-viewer-url")||"src"})})),n.A.reg("ic-input-select",{selfExec:!0,once:!0,fn:function(){t()(document.body).on("click","[ic-input-select]",(function(e){}))}}),n.A.reg("ic-toggle",{selfExec:!0,once:!0,fn:function(){t()(document.body).on("click","[ic-toggle]",(function(e){var i=t()(this).attr("ic-toggle");t()("[ic-toggle-target=?]".replace("?",i)).toggle()}))}}),n.A.reg("ic-close",{selfExec:!0,once:!0,fn:function(){t()(document.body).on("click","[ic-close]",(function(e){t()(this).closest("[ic-close-target]").toggle()}))}}),n.A.reg("ic-checkbox",{selfExec:!0,once:!0,fn:function(){t()(document.body).on("click","[ic-checkbox]",(function(e){if(this===e.target){var i=t()(this);this.hasAttribute("selected")?i.removeAttr("selected").removeClass("selected"):i.attr("selected",!0).addClass("selected"),i.trigger("ic-checkbox.change",{name:i.attr("ic-checkbox")})}}))}}),n.A.reg("ic-dom-clone",{selfExec:!0,once:!0,fn:function(){t()(document.body).on("click","[ic-dom-clone]",(function(e){var i=t()(this);i.prev("[ic-dom]").clone(!0).insertBefore(i)}))}}),n.A.reg("ic-dom-remove",{selfExec:!0,once:!0,fn:function(){t()(document.body).on("click","[ic-dom-remove]",(function(e){var i=t()(this).nextAll("[ic-dom]");i.length>1&&i.eq(i.length-1).remove()}))}}),n.A.reg("ic-ctrl",(function(e,t){if(!e.data("ic-ctrl-scope")){var i=e.attr("ic-ctrl");if(i){var r=e.parent().closest("[ic-ctrl]");r.length&&r.attr("ic-ctrl"),o.A.exec(i,r.data("ic-ctrl-scope"),e)}}})),n.A.reg("ic-event",s),n.A.reg("ic-tpl",u),r.A.add("recordManager",(function(e){return new p(e)})),n.A.reg("ic-ajax",m),n.A.reg("ic-ajax-auto",{fn:function(e){e.icAjax()}}),n.A.reg("ic-ajax-enter",{fn:function(e){e.icEnterPress((function(){e.icAjax()}))}}),n.A.reg("ic-tabs",(function(e,r){i.A.get("event.action");var n,o,c=e,a=c.attr("ic-tabs"),s=(c.attr("ic-tab-disabled"),c.attr("ic-tab-select")),l=c.attr("ic-tabc-select"),_=c.attr("ic-tab-active"),u=c.attr("ic-tab-cla")||"active";o=s?c.find(s).each((function(e){t()(this).attr("ic-tab",e)})):e.find("[ic-tab]");var f=t()("[ic-tabc="+a+"]");function d(e,i){_&&_.removeClass(u),_=t()(i||this).addClass(u),c.trigger("ic-tabs.change",{activeTab:_,target:_[0],val:_.attr("ic-tab-val"),index:_.index()})}f&&f.find(l||"[ic-tab-con]").each((function(e){e=o.eq(e).attr("ic-tab"),t()(this).attr("ic-tab-con",e)})),c.on("click","[ic-tab]:not([ic-tab-disabled=1])",f.length?function(e){d(0,this);var t=_.attr("ic-tab");n&&n.hide(),n=f.find("[ic-tab-con="+t+"]").show()}:d),(_=_?c.find("[ic-tab=?]".replace("?",_)):c.find("[ic-tab]:not([ic-tab-disabled=1])").first()).trigger("click")})),n.A.reg("ic-tabs2",(function(e,i){var r=e,n=(r.attr("ic-tabs2"),r.attr("ic-tab-disabled"),r.attr("ic-tab-$")),o=(r.attr("ic-tabc-$"),r.attr("ic-tab-active"),"active");n&&r.find(n).each((function(e){t()(this).attr("ic-tab",e)})),e.on("click","[ic-tab]",(function(i){if(!this.hasAttribute("ic-tab-disabled")){var r=t()(this);r.hasClass(o)||(r.siblings().removeClass(o),r.addClass(o),e.trigger("ic-tabs.change",{target:this,val:r.attr("ic-tab-val"),index:r.index()}))}}))})),n.A.reg("ic-form",g.A),n.A.reg("ic-select",(function(e){var r=e.attr("ic-select"),n=e.attr("ic-select-cla")||i.A.get("ic-select-cla")||"selected",o=e.attr("ic-select-item")||"[ic-select-item]",c=e.attr("ic-select-type")||"radio",a=e.attr("ic-select-auto"),s=e.icPp2("ic-select-on-change"),l=t()('input[ic-select-input="'.concat(r,'"]')),_=e.find(o),u=0;function f(){setTimeout((function(){u+=1}),30)}_.length||(_=e.find(">*").each((function(){t()(this).attr("ic-select-item",+new Date)})));var d,p=_.filter("[selected]").addClass(n);if(p.length||(p=_.filter("."+n)),"checkbox"===c){var h=function(){var i=[];return _.filter("."+n).each((function(){var e=t()(this).attr("ic-val");e&&i.push(e)})),e.data("ic-val",i),i};h(),d=function(){var i=t()(this),o=i.toggleClass(n).attr("ic-val"),c=h(),a={name:r,value:c,change:o,selected:i.hasClass(n),time:u};e.trigger("ic-select.change",a),e.trigger("change",a),s&&s.apply(e,[a]),f()}}else e.attr("ic-val",p.attr("ic-val")||""),d=function(){var i,o=t()(this),c=o.hasClass(n),a="",d=o.attr("ic-val");c?(o.removeClass(n),i=!1):(_.removeClass(n),o.addClass(n),a=d,i=!0);var p={name:r,value:a,change:d,selected:i,time:u};l.val(a),e.attr("ic-val",a),e.trigger("ic-select.change",p),e.trigger("change",p),s&&s.apply(e,[p]),f()};e.on("click",o,d),a?p.addClass(n):(p.not("."+n).click(),f())})),n.A.reg("ic-enter-press",b),n.A.reg("ic-type-ahead",(function(e,r){var n,o,c,a,s,l=t()("body"),u=e.attr("ic-type-ahead"),f=e.icPp2("ic-on-type-done"),d=e.attr("ic-source-ajax"),p=e.offset(),h=p.left,v=p.top,m=e.outerWidth(),g=e.outerHeight(),b=t()("[ic-type-list=?]".replace("?",u)),y=i.A.getTpl(b.attr("ic-tpl-name"));b.appendTo(l).css({top:v+g,left:h,"min-width":m});var E=0,P=function(e){if(e){if(!e.length)return b.hide();o=e;var t=y({model:e});b.show().html(t)}};d?s=function(e){c=t().ajax({dataType:"json",type:"get",url:d,data:{key:e}}).done(P)}:(d=e.attr("ic-source"),n=e.icParseProperty(d),s=function(e){var t=new RegExp(e,"img"),i=_.filter(n,(function(e,i,r){if(_.isObject(e)){var n=_.filter(e,(function(e){return t.test(e)}));return n.length}return t.test(e)}));P(i)}),e.on("focus",(function(t){var i=e.offset(),r=i.left,n=i.top;b.css({top:n+g+1,left:r})})).on("keyup",(function(t){var i=e.val();if(!i)return b.hide();i!==a&&(a=i,c&&c.abort(),s(a))})).on("keydown",(function(t){var i=t.keyCode;if(38===i||40===i||13===i){var r=b.find("[ic-type-item]");if(r.length){var n=r.length-1;return 38===t.keyCode?(E=--E<0?n:E,void r.eq(E).addClass("active").siblings().removeClass("active")):40===t.keyCode?(E=++E>n?0:E,void r.eq(E).addClass("active").siblings().removeClass("active")):void(13===t.keyCode&&(r.eq(E).trigger("mousedown"),e.blur()))}}else E=0})).on("blur",(function(e){b.fadeOut((function(){b.hide()}))})),b.on("mousedown","[ic-type-item]",(function(i){var r=t()(this).index(),n=o[r],c=t()(this).attr("ic-type-item");e.val(c),e.trigger("type.complete",n),f&&f.apply(e[0],[i,n])}))})),n.A.reg("ic-scroll",(function(e){var i=e||t()(this),r=e.icParseProperty2("ic-scroll"),n=0,o="down";r&&i.on("ic-scroll",r),i.on("scroll",_.throttle((function(e){var t,r=i.scrollTop();o=r-n>1?"down":"up",n=r,"down"===o&&i[0].scrollHeight<=i[0].clientHeight+r&&(console.log("trigger ic-scroll.end"),i.trigger("ic-scroll-end"),t=!0),i.trigger("ic-scroll",{direction:o,end:t})}),300))})),n.A.reg("ic-dialog",y),n.A.reg("ic-prompt",E),n.A.add("ic-dropdown",(function(e,t){var i=e;i.css({position:"relative"});var r,n=i.height(),o=i.find("[ic-dropdown-menu]").css({position:"absolute",top:n+"px",display:"none!important"});o.length&&i.hover((function(e){r=setTimeout((function(){o.show(300)}),200)}),(function(){clearTimeout(r),o.slideUp(200)}));var c=i.find("[ic-dropdown-con]").css({position:"absolute",overflow:"hidden"});if(c.length){var a=c.height(),s=1;i.find("[ic-dropdown-toggle]").click((function(e){s?(c.css({height:"auto"}),s=0):(c.css({height:a+"px"}),s=1)}))}})),n.A.reg("ic-slider",(function(e,i){var r=e,n=r.attr("ic-slider-direction"),o=r.width(),c=r.height();r.css({position:"relative",overflow:"hidden"});var a={width:o+"px",height:c+"px"};n||(a.float="left");var s=r.find("[ic-role-slider-item]").css(a),l=s.length,_=n?{height:l*c+"px"}:{width:l*o+"px"};_.position="absolute";var u=r.find("[ic-role-slider-view]").css(_),f=1,d=r.find("[ic-role-slider-pagination]").first().addClass("active"),p=function(){r.trigger("ic-slider.change",s.eq(f-1))};p();var h=function(){p()};d&&(h=function(){d&&d.removeClass("active"),d=r.find("[ic-role-slider-pagination="+f+"]").addClass("active"),p()});var v,m=n?function(e){return f<=1?(f=l,u.animate({top:(1-l)*c},300,h)):u.animate({top:(2-f)*c},300,(function(){f-=1,h()})),!1}:function(e){return f<=1?(f=l,u.animate({left:(1-l)*o},500,h)):u.animate({left:(2-f)*o},500,(function(){f-=1,h()})),!1},g=n?function(e){return f>=l?(f=1,u.animate({top:0},300,h)):u.animate({top:-f*c},300,(function(){f+=1,h()})),!1}:function(e){return f>=l?(f=1,u.animate({left:0},500,h)):u.animate({left:-f*o},500,(function(){f+=1,h()})),!1},b=r.attr("ic-slider-interval");b&&(v=setInterval(g,b),r.hover((function(e){clearInterval(v)}),(function(e){v=setInterval(g,b)}))),r.delegate("[ic-role-slider-prev]","click",m),r.delegate("[ic-role-slider-next]","click",g),r.delegate("[ic-role-slider-pagination]","click",(function(e){d&&d.removeClass("active");var i=t()(this).addClass("active").attr("ic-role-slider-pagination");f=i-1,g()}))})),n.A.reg("ic-pagination",(function(e,r){var n,o,c=e,a=c.attr("ic-pagination"),s=1*e.attr("ic-pagination-rows")||10,l=(c.attr("ic-pagination-on-change"),1*e.attr("ic-pagination-total")),_=1*e.attr("ic-pagination-step")||10,u=e.attr("ic-pagination-current")||1,f=e.find("[ic-role-pagination-ellipsis]")[0].outerHTML,d=/\{\{\}\}/g,p=e.prev("[ic-tpl=?]".replace("?",a)),h=e.attr("ic-source-ajax");h||((h=e.attr("ic-source"))?(n=e.icParseProperty(h),l=Math.ceil(n.length/s),o=function(e){for(var t,r=--e*s-1<0?0:e*s,o=r+s,c=n.slice(r,o),l=[];t=c.shift();r++)l[r]=t;var _=i.A.getTpl(a)({model:l});p.html(_).show()}):(n=t()("[ic-role-pagination-page=?]".replace("?",a)).children()).length&&(l=Math.ceil(n.length/s),o=function(e){var t=--e*s-1<0?0:e*s,i=t+s;n.hide(),n.slice(t,i).show()}));var v=c.find("[ic-role-pagination-prev]").on("click",(function(e){u<2||(--u,b())})),m=c.find("[ic-role-pagination-next]").on("click",(function(e){u>=l||(++u,b())})),g=c.find("[ic-role-pagination-num]")[0].outerHTML;function b(){var i,r=Math.floor(_/2),n=[],c=r=(r=u-r)<1?1:r;for(c=r=(i=(i=r+_-1)>=l?l:i)+_>=l?i-_<1?1:i-_:c;r<=i;r++)n.push(g.replace(d,r));c>1&&(n.unshift(f),n.unshift(g.replace(d,1))),l-i>2&&(n.push(f),n.push(g.replace(d,l))),1===u?v.addClass("disabled"):v.removeClass("disabled"),u===l?m.addClass("disabled"):m.removeClass("disabled"),v.siblings().not(m).remove(),t()(n.join("")).insertAfter(v).filter("[ic-role-pagination-num="+u+"]").addClass("active"),o&&o(u),e.trigger("ic-pagination.change",u)}setTimeout(b,30),c.on("click","[ic-role-pagination-num]",(function(e){var i=1*t()(this).attr("ic-role-pagination-num");u!==i&&(u=1*i,b())}))})),n.A.add("ic-drag-view",(function(e,i){var r,n,o,c,a=t()(document),s=0,l=0,_=0,u=0;function f(t){var i=t.pageX-s,a=t.pageY-l;return s=t.pageX,l=t.pageY,_=(_=(_+=i)<-(o-r)?-(o-r):_)>=0?0:_,u=(u=(u+=a)<-(c-n)?-(c-n):u)>=0?0:u,e.css({top:u+"px",left:_+"px"}),!1}function d(){a.off("mousemove",f),a.off("mouseup",d)}a.on("click","[ic-drag-key]",(function(i){var a=t()(this),s=a.attr("ic-drag-key"),l=a.attr("ic-drag-direction");e=t()("[ic-drag-handle=?]".replace("?",s)).css({position:"relative"}),o=e.width(),c=e.height(),r=e.closest("[ic-drag-view]").css({position:"relative"}).width(),n=e.closest("[ic-drag-view]").width();var f=e.position();_=f.left,u=f.top,"left"===l&&(_=(_-=140)<-(o-r)?-(o-r):_,e.animate({left:_},500)),"right"===l&&(_=(_+=140)>=0?0:_,e.animate({left:_},500))})),a.on("mousedown","[ic-drag-handle]",(function(i){i.preventDefault(),s=i.pageX,l=i.pageY,e=t()(this).css({position:"relative"}),r=e.closest("[ic-drag-view]").width(),n=e.closest("[ic-drag-view]").height();var p=e.position();return _=p.left,u=p.top,o=e.width(),c=e.height(),a.on("mousemove",f),a.on("mouseup",d),!1}))})),n.A.reg("ic-popup",P),n.A.reg("ic-upload",A),n.A.reg("ic-auto-height",(function(e,t){e.css("height",e[0].scrollHeight+3+"px"),e.on("input",(function(e){this.style.height="auto",this.style.height=this.scrollHeight+3+"px"}))})),t()((function(){setTimeout((function(){!1!==i.A.get("bootstrap.auto")&&i.A.bootstrap(document.body)}),30)}));const M=i.A})(),__webpack_exports__=__webpack_exports__.default,__webpack_exports__})()));
//# sourceMappingURL=brick.js.map