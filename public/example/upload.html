<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>upload</title>
    <meta name="description" content="">
<link rel="stylesheet" href="https://julienedies.github.io/brick/public/css/vendor/bulma.css">
<link rel="stylesheet" href="https://julienedies.github.io/brick/public/css/common/index.css">
<link rel="stylesheet" href="https://julienedies.github.io/brick/public/js/brick/brick.css">

</head>
<body>
<div class="column">
    <div ic-ctrl="uploadCtrl">
        <div ic-upload="img" ic-upload-action="http://localhost:3300/upload" ic-upload-before="before" ic-upload-on-done="done">
            <!-- field -->
            <div class="field">
                <label class="file-label">
                    <input class="file-input" type="file" name="img" multiple>
                    <span class="file-cta">
                          <span class="file-label">
                            选择上传文件…
                          </span>
                    </span>
                </label>
                <div class="control">
                    <div class="box" placeholder="files name" id="preview"></div>
                </div>
                <p class="help">This is a help text</p>
            </div>
            <!-- field -->
            <div class="field is-grouped">
                <div class="control">
                    <button class="button is-link" x-ic-upload-confirm>Submit</button>
                </div>
                <div class="control">
                    <button class="button is-text">Cancel</button>
                </div>
            </div>
            <!-- end -->
        </div>
    </div>
</div>
<script src="https://julienedies.github.io/brick/public/js/vendor/lodash.js"></script>
<script src="https://julienedies.github.io/brick/public/js/vendor/jquery.js"></script>
<script src="https://julienedies.github.io/brick/public/js/brick/brick.js"></script>
<script>
    setTimeout( function(){
        brick.bootstrap();
    }, 30)
</script>
<script>
    brick.reg('uploadCtrl', function (scope) {

        scope.before = function(formData) {
            console.log(formData)
        }

        scope.done = function (data) {
            console.log(data)
            $('#preview').text(JSON.stringify(data, null, '\t'))
        }

    })
</script>
</body>
</html>
