<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>ic-tpl指令示例</title>
    <meta name="description" content="">
    <link rel="stylesheet" href="http://julienedies.github.io/brick/public/css/vendor/normalize.css">
    <link rel="stylesheet" href="http://julienedies.github.io/brick/public/css/vendor/main.css">
    <link rel="stylesheet" href="http://julienedies.github.io/brick/public/css/common/common.css">
    <!--[if lt IE 8]>
    <link rel="stylesheet" href="http://julienedies.github.io/brick/public/css/common/ie-hack.css">
    <![endif]-->
    <script src="http://julienedies.github.io/brick/public/js/vendor/modernizr-2.6.2.min.js"></script>
</head>
<body>
<div id="wraper">

    <header>

</header>

    <main ic-ctrl="mainCtrl">
        <div ic-tpl="companies">
            <table>
                <thead class="lg-36">
                <tr class="t-12-0-a1">
                    <th class="hc">公司名称</th>
                    <th class="hc">公司代码</th>
                    <th class="hc">最新股价</th>
                    <th class="hc">最新涨跌幅</th>
                    <th class="hc">七天涨跌幅</th>
                    <th class="hc">同业排名</th>
                </tr>
                </thead>

                <tbody class="lg-42">
                <tr ic-for="i, v in model" ic-for-init="company=v.company">
                    <td class="hc">
                        <a ic-href="/stock/profile/{{company.code}}" target="_blank" ic-bind="company.abbrSzh"></a>
                    </td>
                    <td class="hc">
                        <a ic-href="/stock/profile/{{company.code}}" target="_blank" ic-bind="company.code"></a>
                    </td>
                    <td class="hc fc-y1" ic-bind="v.closePrice">37.40</td>

                    <td class="hc fc-up" ic-class="hc fc-{{v.changeRatio<0?'down':'up'}}">
                        <span ic-bind="v.changeRatio.toFixed(2)">+0.01</span>%
                    </td>
                    <td class="hc fc-up" ic-class="hc fc-{{v.changeRatio7<0?'down':'up'}}">
                        <span ic-bind="v.changeRatio7.toFixed(2)">+0.01</span>%
                    </td>
                    <td class="hc" ic-bind="++i">2,349,345M</td>
                </tr>
                </tbody>
            </table>
        </div>

    </main>

    <footer>

</footer>





</div>

<script src="http://julienedies.github.io/brick/public/js/vendor/underscore-1.6.0.min.js"></script>
<script src="http://julienedies.github.io/brick/public/js/vendor/jquery/jquery-1.10.2.min.js"></script>
<script src="http://julienedies.github.io/brick/public/js/vendor/plugins.js"></script>
<script src="http://julienedies.github.io/brick/public/brick/0.8/brick.js"></script>
<script>
brick.controllers.reg('mainCtrl', function(scope){

    var companies = [{"company":{"code":"600352_SH_EQ","abbrEn":"ZHEJIANG LONGSHENG","abbrSzh":"\u6d59\u6c5f\u9f99\u76db","sam":null},"closePrice":17.19,"changeRatio":6.11,"changeRatio7":8.73,"totalMarketValue":26300114336.7,"volume":100741598,"time":1418342400000},{"company":{"code":"002440_SZ_EQ","abbrEn":"RUNTU","abbrSzh":"\u95f0\u571f\u80a1\u4efd","sam":null},"closePrice":18.5,"changeRatio":2.89,"changeRatio7":4.46,"totalMarketValue":14189500000,"volume":44396937,"time":1418342400000},{"company":{"code":"300067_SZ_EQ","abbrEn":"Anoky","abbrSzh":"\u5b89\u8bfa\u5176","sam":null},"closePrice":10.41,"changeRatio":4,"changeRatio7":-2.25,"totalMarketValue":3405444120,"volume":7294354,"time":1418342400000}];

scope.render('companies', companies);

    //底层实现
    //var tpl = brick.getTpl('companies');
    //var html = tpl({model:companies});
    //$('[ic-tpl="companies"]').html(html);
})
</script>
</body>
</html>